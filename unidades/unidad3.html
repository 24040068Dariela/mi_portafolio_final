<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Unidad 2 - Backend | Portafolio de Evidencias</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'primary': '#6B3F69',
                        'secondary': '#8D5F8C',
                        'accent': '#A376A2',
                        'light': '#DDC3C3',
                        'dark': '#4A2D49',
                    },
                    fontFamily: {
                        'poppins': ['Poppins', 'system-ui', 'sans-serif'],
                        'inter': ['Inter', 'system-ui', 'sans-serif'],
                    }
                }
            }
        }
    </script>
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
    
    <!-- Estilos inline básicos -->
    <style>
        :root {
            --color-primary: #6B3F69;
            --color-secondary: #8D5F8C;
            --color-accent: #A376A2;
            --color-light: #DDC3C3;
            --color-dark: #4A2D49;
        }
        
        body {
            font-family: 'Poppins', sans-serif;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            background-color: #f9fafb;
            color: #374151;
        }
        
        .loading {
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            font-size: 1.5rem;
            color: var(--color-primary);
        }
        
        .loading-spinner {
            border: 4px solid rgba(107, 63, 105, 0.1);
            border-left-color: var(--color-primary);
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin-right: 1rem;
        }
        
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
    </style>
</head>
<body>
    <!-- Pantalla de carga -->
    <div id="loading-screen" class="loading">
        <div class="loading-spinner"></div>
        <span>Cargando Portafolio...</span>
    </div>
    
    <!-- Contenido específico de unidad2.html -->
    <div id="page-content" style="display: none;">
        <!-- Banner de la unidad -->
        <div class="relative h-72 bg-gradient-to-r from-secondary to-accent">
            <div class="absolute inset-0 opacity-20">
                <img src="https://images.unsplash.com/photo-1558494949-ef010cbdcc31?ixlib=rb-4.0.3&auto=format&fit=crop&w=2074&q=80" 
                     alt="Backend Development" class="w-full h-full object-cover">
            </div>
            <div class="relative container mx-auto px-4 h-full flex items-center">
                <div class="max-w-3xl">
                    <h1 class="text-4xl md:text-5xl font-bold text-white mb-4">Unidad 3: Seguridad e Implementación</h1>
                    <p class="text-light text-xl">Principios de seguridad web y despliegue en producción</p>
                    <div class="mt-6 flex flex-wrap gap-2">
                        <span class="bg-white/20 px-3 py-1 rounded-full text-sm">HTTPS/SSL</span>
                        <span class="bg-white/20 px-3 py-1 rounded-full text-sm">OWASP</span>
                        <span class="bg-white/20 px-3 py-1 rounded-full text-sm">Firewalls</span>
                        <span class="bg-white/20 px-3 py-1 rounded-full text-sm">Hosting</span>
                        <span class="bg-white/20 px-3 py-1 rounded-full text-sm">CI/CD</span>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Contenido principal - EN CONSTRUCCIÓN -->
        <section class="py-24">
            <div class="container mx-auto px-4">
                <div class="max-w-4xl mx-auto text-center">
                    <!-- Mensaje de construcción -->
                    <div class="bg-gradient-to-r from-primary/10 to-secondary/10 rounded-2xl p-12 mb-8">
                        <div class="inline-flex items-center justify-center w-32 h-32 bg-primary/20 rounded-full mb-8">
                            <i class="fas fa-tools text-primary text-5xl"></i>
                        </div>
                        <h2 class="text-3xl md:text-4xl font-bold text-primary mb-4">Contenido en Construcción</h2>
                        <p class="text-gray-600 text-lg mb-6">
                            La unidad 2 está actualmente en desarrollo. Pronto encontrarás aquí contenido completo sobre desarrollo backend.
                        </p>
                        
                        <div class="bg-blue-50 border border-blue-200 rounded-xl p-6 inline-block">
                            <div class="flex items-center">
                                <i class="fas fa-clock text-blue-500 text-2xl mr-4"></i>
                                <div class="text-left">
                                    <h4 class="font-bold text-blue-800">Disponible Pronto</h4>
                                    <p class="text-blue-600 text-sm">Estamos trabajando en el contenido</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Información sobre lo que incluirá -->
                    <div class="mt-12 grid grid-cols-1 md:grid-cols-3 gap-6">
                        <div class="bg-white p-6 rounded-xl shadow-md">
                            <div class="inline-flex items-center justify-center w-12 h-12 bg-primary/10 rounded-full mb-4">
                                <i class="fas fa-database text-primary"></i>
                            </div>
                            <h3 class="font-bold text-primary mb-2">Bases de Datos</h3>
                            <p class="text-gray-600 text-sm">MySQL, MongoDB, diseño de esquemas</p>
                        </div>
                        
                        <div class="bg-white p-6 rounded-xl shadow-md">
                            <div class="inline-flex items-center justify-center w-12 h-12 bg-primary/10 rounded-full mb-4">
                                <i class="fas fa-server text-primary"></i>
                            </div>
                            <h3 class="font-bold text-primary mb-2">APIs REST</h3>
                            <p class="text-gray-600 text-sm">Desarrollo de endpoints y documentación</p>
                        </div>
                        
                        <div class="bg-white p-6 rounded-xl shadow-md">
                            <div class="inline-flex items-center justify-center w-12 h-12 bg-primary/10 rounded-full mb-4">
                                <i class="fas fa-lock text-primary"></i>
                            </div>
                            <h3 class="font-bold text-primary mb-2">Autenticación</h3>
                            <p class="text-gray-600 text-sm">JWT, OAuth, manejo de sesiones</p>
                        </div>
                    </div>
                    
                    <!-- Botones de navegación -->
                    <div class="flex flex-col sm:flex-row gap-4 justify-center mt-12">
                        <a href="../index.html" class="bg-primary hover:bg-secondary text-white font-bold py-3 px-8 rounded-lg transition duration-300 inline-flex items-center justify-center">
                            <i class="fas fa-home mr-2"></i> Ir al Inicio
                        </a>
                        <a href="unidad1.html" class="bg-white border border-primary text-primary hover:bg-primary hover:text-white font-bold py-3 px-8 rounded-lg transition duration-300 inline-flex items-center justify-center">
                            <i class="fas fa-arrow-left mr-2"></i> Volver a Unidad 1
                        </a>
                    </div>
                    
                    <!-- Progreso -->
                    <div class="mt-12 pt-12 border-t border-gray-200">
                        <h3 class="font-bold text-gray-700 mb-4">Progreso del Desarrollo</h3>
                        <div class="w-full bg-gray-200 rounded-full h-2 mb-4">
                            <div class="bg-primary h-2 rounded-full" style="width: 30%"></div>
                        </div>
                        <p class="text-gray-500 text-sm">30% completado • Estamos trabajando en ello</p>
                    </div>
                </div>
            </div>
        </section>
    </div>
    
    <!-- Loader que maneja la carga de componentes -->
    <script>
        // Configuración del sitio
        const SiteConfig = {
            basePath: '../',
            components: ['header', 'footer'],
            
            // Cargar un componente
            async loadComponent(name) {
                try {
                    const response = await fetch(`${this.basePath}includes/${name}.html`);
                    if (!response.ok) {
                        throw new Error(`Error cargando ${name}: ${response.status}`);
                    }
                    return await response.text();
                } catch (error) {
                    console.error(`Error cargando componente ${name}:`, error);
                    // Componente de respaldo
                    if (name === 'header') {
                        return `
                            <header style="background: #6B3F69; color: white; padding: 1rem;">
                                <div style="max-width: 1200px; margin: 0 auto;">
                                    <a href="${this.basePath}index.html" style="color: white; text-decoration: none; font-size: 1.5rem; font-weight: bold;">
                                        Portafolio de Evidencias
                                    </a>
                                </div>
                            </header>
                            <div style="height: 80px;"></div>
                        `;
                    }
                    if (name === 'footer') {
                        return `
                            <footer style="background: #6B3F69; color: white; padding: 2rem; margin-top: 3rem;">
                                <div style="max-width: 1200px; margin: 0 auto; text-align: center;">
                                    <p>&copy; ${new Date().getFullYear()} Portafolio de Evidencias</p>
                                </div>
                            </footer>
                        `;
                    }
                    return '';
                }
            },
            
            // Cargar todos los componentes
            async loadComponents() {
                const components = {};
                
                for (const name of this.components) {
                    components[name] = await this.loadComponent(name);
                }
                
                return components;
            },
            
            // Construir la página completa
            async buildPage() {
                // Ocultar pantalla de carga
                document.getElementById('loading-screen').style.display = 'none';
                
                // Mostrar contenido de la página
                const pageContent = document.getElementById('page-content');
                
                // Cargar componentes
                const { header, footer } = await this.loadComponents();
                
                // Insertar header al inicio del body
                document.body.insertAdjacentHTML('afterbegin', header);
                
                // Mostrar contenido de la página
                pageContent.style.display = 'block';
                
                // Insertar footer al final del body
                document.body.insertAdjacentHTML('beforeend', footer);
                
                // Cargar CSS personalizado
                await this.loadCustomCSS();
                
                // Cargar scripts adicionales
                await this.loadScripts();
                
                // Inicializar funcionalidades
                this.initFunctionalities();
            },
            
            // Cargar CSS personalizado
            async loadCustomCSS() {
                try {
                    const link = document.createElement('link');
                    link.rel = 'stylesheet';
                    link.href = `${this.basePath}assets/css/main.css`;
                    document.head.appendChild(link);
                } catch (error) {
                    console.error('Error cargando CSS:', error);
                }
            },
            
            // Cargar scripts adicionales
            async loadScripts() {
                const scripts = [
                    `${this.basePath}assets/js/config.js`,
                    `${this.basePath}assets/js/main.js`
                ];
                
                for (const src of scripts) {
                    try {
                        const script = document.createElement('script');
                        script.src = src;
                        script.async = true;
                        document.body.appendChild(script);
                    } catch (error) {
                        console.error(`Error cargando script ${src}:`, error);
                    }
                }
            },
            
            // Inicializar funcionalidades
            initFunctionalities() {
                // Header scroll effect
                window.addEventListener('scroll', function() {
                    const header = document.querySelector('.site-header');
                    if (header) {
                        if (window.scrollY > 50) {
                            header.classList.add('scrolled');
                        } else {
                            header.classList.remove('scrolled');
                        }
                    }
                });
                
                // Resaltar enlace activo en navbar (Unidad 2)
                const navLinks = document.querySelectorAll('nav a');
                navLinks.forEach(link => {
                    const linkHref = link.getAttribute('href');
                    if (linkHref && linkHref.includes('unidad2.html')) {
                        link.classList.add('nav-active');
                        link.setAttribute('aria-current', 'page');
                    }
                });
                
                // Smooth scroll para enlaces internos
                document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                    anchor.addEventListener('click', function(e) {
                        e.preventDefault();
                        const targetId = this.getAttribute('href');
                        if (targetId !== '#') {
                            const targetElement = document.querySelector(targetId);
                            if (targetElement) {
                                targetElement.scrollIntoView({
                                    behavior: 'smooth',
                                    block: 'start'
                                });
                            }
                        }
                    });
                });
                
                console.log('Unidad 2 - Backend cargada correctamente');
            }
        };
        
        // Inicializar cuando el DOM esté listo
        document.addEventListener('DOMContentLoaded', async function() {
            // Construir página
            await SiteConfig.buildPage();
        });
    </script>
</body>
</html>